{"id":201,"created":"2020-02-05T10:08:00.780436-05:00","modified":"2020-05-04T13:09:27.473441-04:00","namespace":{"id":17693,"created":"2019-11-25T10:08:33.849107-05:00","modified":"2020-03-26T12:30:31.640632-04:00","description":"Collections managed by the Ansible Community Team & friends","active":true,"name":"community","avatar_url":"https://www.ansible.com/hubfs/2016_Images/Assets/Ansible-Mark-Large-RGB-Mango.png?hsLang=en-us","location":null,"company":"Ansible by Red Hat","email":null,"html_url":"https://github.com/ansible-collections/","is_vendor":false,"owners":[32329,55857,49689,36226,219,17360,320,17378]},"name":"kubernetes","deprecated":false,"download_count":346188,"community_score":null,"latest_version":{"pk":1868,"version":"0.11.0","quality_score":"4.9","created":"2020-05-04T13:09:27.461362-04:00","modified":"2020-05-04T13:09:27.461385-04:00","metadata":{"name":"kubernetes","tags":["kubernetes","k8s","cloud","infrastructure","openshift","okd","cluster"],"issues":"https://github.com/ansible-collections/community.kubernetes/issues","readme":"README.md","authors":["chouseknecht (https://github.com/chouseknecht)","geerlingguy (https://www.jeffgeerling.com/)","maxamillion (https://github.com/maxamillion)","jmontleon (https://github.com/jmontleon)","fabianvf (https://github.com/fabianvf)","willthames (https://github.com/willthames)","mmazur (https://github.com/mmazur)","jamescassell (https://github.com/jamescassell)"],"license":[],"version":"0.11.0","homepage":"","namespace":"community","repository":"https://github.com/ansible-collections/community.kubernetes","description":"Kubernetes Collection for Ansible.","dependencies":{},"license_file":"LICENSE","documentation":""},"contents":[{"name":"k8s_log","scores":null,"metadata":{"documentation":{"author":["Fabian von Feilitzsch (@fabianvf)"],"module":"k8s_log","options":{"kind":{"type":"str","default":"Pod","required":false,"description":["Use to specify an object model. Use in conjunction with I(api_version), I(name), and I(namespace) to identify a specific object.","If using I(label_selector), cannot be overridden"]},"name":{"type":"str","description":["Use to specify an object name.  Use in conjunction with I(api_version), I(kind) and I(namespace) to identify a specific object.","Only one of I(name) or I(label_selector) may be provided"]},"container":{"type":"str","required":false,"description":["Use to specify the container within a pod to grab the log from.","If there is only one container, this will default to that container.","If there is more than one container, this option is required."]},"namespace":{"type":"str","description":["Use to specify an object namespace. Use in conjunction with I(api_version), I(kind), and I(name) to identify a specfic object."]},"api_version":{"type":"str","aliases":["api","version"],"default":"v1","description":["Use to specify the API version. in conjunction with I(kind), I(name), and I(namespace) to identify a specific object.","If using I(label_selector), cannot be overridden"]},"label_selectors":{"type":"list","elements":"str","description":["List of label selectors to use to filter results","Only one of I(name) or I(label_selector) may be provided"]}},"description":["Use the OpenShift Python client to perform read operations on K8s log endpoints.","Authenticate using either a config file, certificates, password or token.","Supports check mode.","Analogous to `kubectl logs` or `oc logs`"],"requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"Fetch logs from Kubernetes resources","extends_documentation_fragment":["community.kubernetes.k8s_auth_options"]},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Fetch logs from Kubernetes resources","content_type":"module"},{"name":"k8s_info","scores":null,"metadata":{"documentation":{"author":["Will Thames (@willthames)"],"module":"k8s_info","options":{"kind":{"type":"str","required":true,"description":["Use to specify an object model. Use in conjunction with I(api_version), I(name), and I(namespace) to identify a specific object."]},"name":{"type":"str","description":["Use to specify an object name.  Use in conjunction with I(api_version), I(kind) and I(namespace) to identify a specific object."]},"namespace":{"type":"str","description":["Use to specify an object namespace. Use in conjunction with I(api_version), I(kind), and I(name) to identify a specific object."]},"api_version":{"type":"str","aliases":["api","version"],"default":"v1","description":["Use to specify the API version. in conjunction with I(kind), I(name), and I(namespace) to identify a specific object."]},"field_selectors":{"type":"list","elements":"str","description":"List of field selectors to use to filter results"},"label_selectors":{"type":"list","elements":"str","description":"List of label selectors to use to filter results"}},"description":["Use the OpenShift Python client to perform read operations on K8s objects.","Access to the full range of K8s APIs.","Authenticate using either a config file, certificates, password or token.","Supports check mode.","This module was called C(k8s_facts) before Ansible 2.9. The usage did not change."],"requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"Describe Kubernetes (K8s) objects","extends_documentation_fragment":["community.kubernetes.k8s_auth_options"]},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Describe Kubernetes (K8s) objects","content_type":"module"},{"name":"k8s_scale","scores":null,"metadata":{"documentation":{"author":["Chris Houseknecht (@chouseknecht)","Fabian von Feilitzsch (@fabianvf)"],"module":"k8s_scale","description":["Similar to the kubectl scale command. Use to set the number of replicas for a Deployment, ReplicaSet, or Replication Controller, or the parallelism attribute of a Job. Supports check mode."],"requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"Set a new size for a Deployment, ReplicaSet, Replication Controller, or Job.","extends_documentation_fragment":["community.kubernetes.k8s_name_options","community.kubernetes.k8s_auth_options","community.kubernetes.k8s_resource_options","community.kubernetes.k8s_scale_options"]},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Set a new size for a Deployment, ReplicaSet, Replication Controller, or Job.","content_type":"module"},{"name":"helm_info","scores":null,"metadata":{"documentation":{"author":["Lucas Boisserie (@LucasBoisserie)"],"module":"helm_info","options":{"binary_path":{"type":"path","required":false,"description":["The path of a helm binary to use."]},"kube_context":{"type":"str","description":["Helm option to specify which kubeconfig context to use."]},"release_name":{"type":"str","aliases":["name"],"required":true,"description":["Release name to manage."]},"kubeconfig_path":{"type":"path","aliases":["kubeconfig"],"description":["Helm option to specify kubeconfig path to use."]},"release_namespace":{"type":"str","aliases":["namespace"],"required":true,"description":["Kubernetes namespace where the chart should be installed."]}},"description":["Get informations (values, states, ...) from Helm package deployed inside the cluster"],"requirements":["helm (https://github.com/helm/helm/releases)","yaml (https://pypi.org/project/PyYAML/)"],"short_description":"Get informations from Helm package deployed inside the cluster"},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Get informations from Helm package deployed inside the cluster","content_type":"module"},{"name":"k8s_exec","scores":null,"metadata":{"documentation":{"author":"Tristan de Cacqueray (@tristanC)","module":"k8s_exec","options":{"pod":{"type":"str","required":true,"description":["The pod name"]},"proxy":{"type":"str","description":["The URL of an HTTP proxy to use for the connection. Can also be specified via K8S_AUTH_PROXY environment variable.","Please note that this module does not pick up typical proxy settings from the environment (e.g. HTTP_PROXY)."]},"command":{"type":"str","required":true,"description":["The command to execute"]},"container":{"type":"str","required":false,"description":["The name of the container in the pod to connect to. Defaults to only container if there is only one container in the pod."]},"namespace":{"type":"str","required":true,"description":["The pod namespace name"]}},"description":["Use the Kubernetes Python client to execute command on K8s pods."],"requirements":["python >= 2.7","openshift == 0.4.3","PyYAML >= 3.11"],"short_description":"Execute command in Pod","extends_documentation_fragment":["community.kubernetes.k8s_auth_options"]},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Execute command in Pod","content_type":"module"},{"name":"k8s_service","scores":null,"metadata":{"documentation":{"author":"KubeVirt Team (@kubevirt)","module":"k8s_service","options":{"src":{"type":"path","description":["Provide a path to a file containing a valid YAML definition of an object dated. Mutually exclusive with I(resource_definition). NOTE: I(kind), I(api_version), I(resource_name), and I(namespace) will be overwritten by corresponding values found in the configuration read in from the I(src) file.","Reads from the local file system. To read from the Ansible controller's file system, use the file lookup plugin or template lookup plugin, combined with the from_yaml filter, and pass the result to I(resource_definition). See Examples below."]},"name":{"type":"str","required":true,"description":["Use to specify a Service object name."]},"type":{"type":"str","choices":["NodePort","ClusterIP","LoadBalancer","ExternalName"],"description":["Specifies the type of Service to create.","See U(https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types)"]},"apply":{"type":"bool","description":["C(apply) compares the desired resource definition with the previously supplied resource definition, ignoring properties that are automatically generated","C(apply) works better with Services than 'force=yes'","mutually exclusive with C(merge_type)"]},"force":{"type":"bool","default":false,"description":["If set to C(True), and I(state) is C(present), an existing object will be replaced."]},"ports":{"type":"list","elements":"dict","description":["A list of ports to expose.","U(https://kubernetes.io/docs/concepts/services-networking/service/#multi-port-services)"]},"state":{"type":"str","choices":["present","absent"],"default":"present","description":["Determines if an object should be created, patched, or deleted. When set to C(present), an object will be created, if it does not already exist. If set to C(absent), an existing object will be deleted. If set to C(present), an existing object will be patched, if its attributes differ from those specified using module options and I(resource_definition)."]},"selector":{"type":"dict","description":["Label selectors identify objects this Service should apply to.","U(https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/)"]},"namespace":{"type":"str","required":true,"description":["Use to specify a Service object namespace."]},"merge_type":{"type":"list","choices":["json","merge","strategic-merge"],"elements":"str","description":["Whether to override the default patch merge approach with a specific type. By default, the strategic merge will typically be used.","For example, Custom Resource Definitions typically aren't updatable by the usual strategic merge. You may want to use C(merge) if you see \"strategic merge patch format is not supported\"","See U(https://kubernetes.io/docs/tasks/run-application/update-api-object-kubectl-patch/#use-a-json-merge-patch-to-update-a-deployment)","Requires openshift >= 0.6.2","If more than one merge_type is given, the merge_types will be tried in order","If openshift >= 0.6.2, this defaults to C(['strategic-merge', 'merge']), which is ideal for using the same parameters on resource kinds that combine Custom Resources and built-in resources. For openshift < 0.6.2, the default is simply C(strategic-merge)."]},"resource_definition":{"type":"dict","aliases":["definition","inline"],"description":["A partial YAML definition of the Service object being created/updated. Here you can define Kubernetes Service Resource parameters not covered by this module's parameters.","NOTE: I(resource_definition) has lower priority than module parameters. If you try to define e.g. I(metadata.namespace) here, that value will be ignored and I(metadata) used instead."]}},"description":["Use Openshift Python SDK to manage Services on Kubernetes"],"requirements":["python >= 2.7","openshift >= 0.6.2"],"short_description":"Manage Services on Kubernetes","extends_documentation_fragment":["community.kubernetes.k8s_auth_options"]},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Manage Services on Kubernetes","content_type":"module"},{"name":"helm_repository","scores":null,"metadata":{"documentation":{"author":["Lucas Boisserie (@LucasBoisserie)"],"module":"helm_repository","options":{"repo_url":{"type":"str","aliases":["url"],"description":["Chart repository url"]},"repo_name":{"type":"str","aliases":["name"],"required":true,"description":["Chart repository name."]},"repo_state":{"type":"str","aliases":["state"],"choices":["present","absent"],"default":"present","required":false,"description":["Desirated state of repositoriy."]},"binary_path":{"type":"path","required":false,"description":["The path of a helm binary to use."]},"repo_password":{"type":"str","aliases":["password"],"required":false,"description":["Chart repository password for repository with basic auth.","Required if chart_repo_username is specified."]},"repo_username":{"type":"str","aliases":["username"],"required":false,"description":["Chart repository username for repository with basic auth.","Required if chart_repo_password is specified."]}},"description":["Manage Helm repositories"],"requirements":["helm (https://github.com/helm/helm/releases)","yaml (https://pypi.org/project/PyYAML/)"],"short_description":"Add and remove Helm repository"},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Add and remove Helm repository","content_type":"module"},{"name":"k8s","scores":null,"metadata":{"documentation":{"notes":["If your OpenShift Python library is not 0.9.0 or newer and you are trying to remove an item from an associative array/dictionary, for example a label or an annotation, you will need to explicitly set the value of the item to be removed to `null`. Simply deleting the entry in the dictionary will not remove it from openshift or kubernetes."],"author":["Chris Houseknecht (@chouseknecht)","Fabian von Feilitzsch (@fabianvf)"],"module":"k8s","options":{"wait":{"type":"bool","default":false,"description":["Whether to wait for certain resource kinds to end up in the desired state. By default the module exits once Kubernetes has received the request","Implemented for C(state=present) for C(Deployment), C(DaemonSet) and C(Pod), and for C(state=absent) for all resource kinds.","For resource kinds without an implementation, C(wait) returns immediately unless C(wait_condition) is set."]},"apply":{"type":"bool","description":["C(apply) compares the desired resource definition with the previously supplied resource definition, ignoring properties that are automatically generated","C(apply) works better with Services than 'force=yes'","mutually exclusive with C(merge_type)"]},"validate":{"type":"dict","suboptions":{"strict":{"type":"bool","default":true,"description":"whether to fail when passing unexpected properties"},"version":{"type":"str","description":"version of Kubernetes to validate against. defaults to Kubernetes server version"},"fail_on_error":{"type":"bool","description":"whether to fail on validation errors."}},"description":["how (if at all) to validate the resource definition against the kubernetes schema. Requires the kubernetes-validate python module"]},"merge_type":{"type":"list","choices":["json","merge","strategic-merge"],"elements":"str","description":["Whether to override the default patch merge approach with a specific type. By default, the strategic merge will typically be used.","For example, Custom Resource Definitions typically aren't updatable by the usual strategic merge. You may want to use C(merge) if you see \"strategic merge patch format is not supported\"","See U(https://kubernetes.io/docs/tasks/run-application/update-api-object-kubectl-patch/#use-a-json-merge-patch-to-update-a-deployment)","Requires openshift >= 0.6.2","If more than one merge_type is given, the merge_types will be tried in order","If openshift >= 0.6.2, this defaults to C(['strategic-merge', 'merge']), which is ideal for using the same parameters on resource kinds that combine Custom Resources and built-in resources. For openshift < 0.6.2, the default is simply C(strategic-merge).","mutually exclusive with C(apply)"]},"wait_sleep":{"type":"int","default":5,"description":["Number of seconds to sleep between checks."]},"append_hash":{"type":"bool","description":["Whether to append a hash to a resource name for immutability purposes","Applies only to ConfigMap and Secret resources","The parameter will be silently ignored for other resource kinds","The full definition of an object is needed to generate the hash - this means that deleting an object created with append_hash will only work if the same object is passed with state=absent (alternatively, just use state=absent with the name including the generated hash and append_hash=no)"]},"wait_timeout":{"type":"int","default":120,"description":["How long in seconds to wait for the resource to end up in the desired state. Ignored if C(wait) is not set."]},"wait_condition":{"type":"dict","suboptions":{"type":{"type":"str","description":["The type of condition to wait for. For example, the C(Pod) resource will set the C(Ready) condition (among others)","Required if you are specifying a C(wait_condition). If left empty, the C(wait_condition) field will be ignored.","The possible types for a condition are specific to each resource type in Kubernetes. See the API documentation of the status field for a given resource to see possible choices."]},"reason":{"type":"str","description":["The value of the reason field in your desired condition","For example, if a C(Deployment) is paused, The C(Progressing) C(type) will have the C(DeploymentPaused) reason.","The possible reasons in a condition are specific to each resource type in Kubernetes. See the API documentation of the status field for a given resource to see possible choices."]},"status":{"type":"str","choices":[true,false,"Unknown"],"default":"True","description":["The value of the status field in your desired condition.","For example, if a C(Deployment) is paused, the C(Progressing) C(type) will have the C(Unknown) status."]}},"description":["Specifies a custom condition on the status to wait for. Ignored if C(wait) is not set or is set to False."]}},"description":["Use the OpenShift Python client to perform CRUD operations on K8s objects.","Pass the object definition from a source file or inline. See examples for reading files and using Jinja templates or vault-encrypted files.","Access to the full range of K8s APIs.","Use the M(k8s_info) module to obtain a list of items about an object of type C(kind)","Authenticate using either a config file, certificates, password or token.","Supports check mode."],"requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"Manage Kubernetes (K8s) objects","extends_documentation_fragment":["community.kubernetes.k8s_state_options","community.kubernetes.k8s_name_options","community.kubernetes.k8s_resource_options","community.kubernetes.k8s_auth_options"]},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Manage Kubernetes (K8s) objects","content_type":"module"},{"name":"k8s_auth","scores":null,"metadata":{"documentation":{"author":"KubeVirt Team (@kubevirt)","module":"k8s_auth","options":{"host":{"type":"str","required":true,"description":["Provide a URL for accessing the API server."]},"state":{"type":"str","choices":["present","absent"],"default":"present","description":["If set to I(present) connect to the API server using the URL specified in C(host) and attempt to log in.","If set to I(absent) attempt to log out by revoking the authentication token specified in C(api_key)."]},"api_key":{"type":"str","description":["When C(state) is set to I(absent), this specifies the token to revoke."]},"ca_cert":{"type":"path","aliases":["ssl_ca_cert"],"description":["Path to a CA certificate file used to verify connection to the API server. The full certificate chain must be provided to avoid certificate validation errors."]},"password":{"type":"str","description":["Provide a password for authenticating with the API server."]},"username":{"type":"str","description":["Provide a username for authenticating with the API server."]},"validate_certs":{"type":"bool","aliases":["verify_ssl"],"default":true,"description":["Whether or not to verify the API server's SSL certificates."]}},"description":["This module handles authenticating to Kubernetes clusters requiring I(explicit) authentication procedures, meaning ones where a client logs in (obtains an authentication token), performs API operations using said token and then logs out (revokes the token). An example of a Kubernetes distribution requiring this module is OpenShift.","On the other hand a popular configuration for username+password authentication is one utilizing HTTP Basic Auth, which does not involve any additional login/logout steps (instead login credentials can be attached to each and every API call performed) and as such is handled directly by the C(k8s) module (and other resourceâ€“specific modules) by utilizing the C(host), C(username) and C(password) parameters. Please consult your preferred module's documentation for more details."],"requirements":["python >= 2.7","urllib3","requests","requests-oauthlib"],"short_description":"Authenticate to Kubernetes clusters which require an explicit login step"},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Authenticate to Kubernetes clusters which require an explicit login step","content_type":"module"},{"name":"helm","scores":null,"metadata":{"documentation":{"author":["Lucas Boisserie (@LucasBoisserie)","Matthieu Diehr (@d-matt)"],"module":"helm","options":{"wait":{"type":"bool","default":false,"description":["Wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment are in a ready state before marking the release as successful."]},"force":{"type":"bool","default":false,"description":["Helm option to force reinstall, ignore on new install."]},"purge":{"type":"bool","default":true,"description":["Remove the release from the store and make its name free for later use."]},"chart_ref":{"type":"path","required":false,"description":["chart_reference on chart repository.","path to a packaged chart.","path to an unpacked chart directory.","absolute URL.","Required when I(release_state) is set to C(present)."]},"binary_path":{"type":"path","required":false,"description":["The path of a helm binary to use."]},"disable_hook":{"type":"bool","default":false,"description":["Helm option to disable hook on install/upgrade/delete."]},"kube_context":{"type":"str","description":["Helm option to specify which kubeconfig context to use."]},"release_name":{"type":"str","aliases":["name"],"required":true,"description":["Release name to manage."]},"wait_timeout":{"type":"str","description":["Timeout when wait option is enabled (helm2 is a number of seconds, helm3 is a duration)."]},"chart_version":{"type":"str","required":false,"description":["Chart version to install. If this is not specified, the latest version is installed."]},"release_state":{"type":"str","aliases":["state"],"choices":["present","absent"],"default":"present","required":false,"description":["Desirated state of release."]},"chart_repo_url":{"type":"str","required":false,"description":["Chart repository URL where to locate the requested chart."]},"release_values":{"type":"dict","aliases":["values"],"default":{},"required":false,"description":["Value to pass to chart."]},"kubeconfig_path":{"type":"path","aliases":["kubeconfig"],"description":["Helm option to specify kubeconfig path to use."]},"release_namespace":{"type":"str","aliases":["namespace"],"required":true,"description":["Kubernetes namespace where the chart should be installed."]},"update_repo_cache":{"type":"bool","default":false,"description":["Run C(helm repo update) before the operation. Can be run as part of the package installation or as a separate step."]}},"description":["Install, upgrade, delete packages with the Helm package manager."],"requirements":["helm (https://github.com/helm/helm/releases)","yaml (https://pypi.org/project/PyYAML/)"],"short_description":"Manages Kubernetes packages with the Helm package manager"},"ansible_metadata":{"status":["preview"],"supported_by":"community","metadata_version":"1.1"}},"role_meta":null,"description":"Manages Kubernetes packages with the Helm package manager","content_type":"module"},{"name":"raw","scores":null,"metadata":{},"role_meta":null,"description":"","content_type":"module_utils"},{"name":"common","scores":null,"metadata":{},"role_meta":null,"description":"","content_type":"module_utils"},{"name":"scale","scores":null,"metadata":{},"role_meta":null,"description":"","content_type":"module_utils"},{"name":"kubectl","scores":null,"metadata":{"documentation":{"author":["xuxinkun"],"options":{"ca_cert":{"env":[{"name":"K8S_AUTH_SSL_CA_CERT"}],"vars":[{"name":"ansible_kubectl_ssl_ca_cert"},{"name":"ansible_kubectl_ca_cert"}],"aliases":["kubectl_ssl_ca_cert"],"default":"","description":["Path to a CA certificate used to authenticate with the API."]},"client_key":{"env":[{"name":"K8S_AUTH_KEY_FILE"}],"vars":[{"name":"ansible_kubectl_key_file"},{"name":"ansible_kubectl_client_key"}],"aliases":["kubectl_key_file"],"default":"","description":["Path to a key file used to authenticate with the API."]},"client_cert":{"env":[{"name":"K8S_AUTH_CERT_FILE"}],"vars":[{"name":"ansible_kubectl_cert_file"},{"name":"ansible_kubectl_client_cert"}],"aliases":["kubectl_cert_file"],"default":"","description":["Path to a certificate used to authenticate with the API."]},"kubectl_pod":{"env":[{"name":"K8S_AUTH_POD"}],"vars":[{"name":"ansible_kubectl_pod"}],"default":"","description":["Pod name. Required when the host name does not match pod name."]},"kubectl_host":{"env":[{"name":"K8S_AUTH_HOST"},{"name":"K8S_AUTH_SERVER"}],"vars":[{"name":"ansible_kubectl_host"},{"name":"ansible_kubectl_server"}],"default":"","description":["URL for accessing the API."]},"kubectl_token":{"env":[{"name":"K8S_AUTH_TOKEN"},{"name":"K8S_AUTH_API_KEY"}],"vars":[{"name":"ansible_kubectl_token"},{"name":"ansible_kubectl_api_key"}],"description":["API authentication bearer token.","Please be aware that this passes information directly on the command line and it could expose sensitive data. We recommend using the file based authentication options instead."]},"validate_certs":{"env":[{"name":"K8S_AUTH_VERIFY_SSL"}],"vars":[{"name":"ansible_kubectl_verify_ssl"},{"name":"ansible_kubectl_validate_certs"}],"aliases":["kubectl_verify_ssl"],"default":"","description":["Whether or not to verify the API server's SSL certificate. Defaults to I(true)."]},"kubectl_context":{"env":[{"name":"K8S_AUTH_CONTEXT"}],"vars":[{"name":"ansible_kubectl_context"}],"default":"","description":["The name of a context found in the K8s config file."]},"kubectl_password":{"env":[{"name":"K8S_AUTH_PASSWORD"}],"vars":[{"name":"ansible_kubectl_password"}],"default":"","description":["Provide a password for authenticating with the API.","Please be aware that this passes information directly on the command line and it could expose sensitive data. We recommend using the file based authentication options instead."]},"kubectl_username":{"env":[{"name":"K8S_AUTH_USERNAME"}],"vars":[{"name":"ansible_kubectl_username"},{"name":"ansible_kubectl_user"}],"default":"","description":["Provide a username for authenticating with the API."]},"kubectl_container":{"env":[{"name":"K8S_AUTH_CONTAINER"}],"vars":[{"name":"ansible_kubectl_container"}],"default":"","description":["Container name. Required when a pod contains more than one container."]},"kubectl_namespace":{"env":[{"name":"K8S_AUTH_NAMESPACE"}],"vars":[{"name":"ansible_kubectl_namespace"}],"default":"","description":["The namespace of the pod"]},"kubectl_extra_args":{"env":[{"name":"K8S_AUTH_EXTRA_ARGS"}],"vars":[{"name":"ansible_kubectl_extra_args"}],"default":"","description":["Extra arguments to pass to the kubectl command line.","Please be aware that this passes information directly on the command line and it could expose sensitive data."]},"kubectl_kubeconfig":{"env":[{"name":"K8S_AUTH_KUBECONFIG"}],"vars":[{"name":"ansible_kubectl_kubeconfig"},{"name":"ansible_kubectl_config"}],"default":"","description":["Path to a kubectl config file. Defaults to I(~/.kube/config)"]}},"connection":"kubectl","description":["Use the kubectl exec command to run tasks in, or put/fetch files to, pods running on the Kubernetes container platform."],"requirements":["kubectl (go binary)"],"short_description":"Execute tasks in pods running on Kubernetes."}},"role_meta":null,"description":"Execute tasks in pods running on Kubernetes.","content_type":"connection_plugin"},{"name":"k8s_state_options","scores":null,"metadata":{"documentation":null},"role_meta":null,"description":"","content_type":"doc_fragments_plugin"},{"name":"k8s_resource_options","scores":null,"metadata":{"documentation":null},"role_meta":null,"description":"","content_type":"doc_fragments_plugin"},{"name":"k8s_scale_options","scores":null,"metadata":{"documentation":null},"role_meta":null,"description":"","content_type":"doc_fragments_plugin"},{"name":"k8s_auth_options","scores":null,"metadata":{"documentation":null},"role_meta":null,"description":"","content_type":"doc_fragments_plugin"},{"name":"k8s_name_options","scores":null,"metadata":{"documentation":null},"role_meta":null,"description":"","content_type":"doc_fragments_plugin"},{"name":"k8s","scores":null,"metadata":{"documentation":null},"role_meta":null,"description":"","content_type":"filter_plugin"},{"name":"openshift","scores":null,"metadata":{"documentation":{"name":"openshift","author":["Chris Houseknecht <@chouseknecht>"],"options":{"plugin":{"choices":["openshift"],"required":true,"description":"token that ensures this is a source file for the 'openshift' plugin."},"connections":{"host":{"description":["Provide a URL for accessing the API. Can also be specified via K8S_AUTH_HOST environment variable."]},"name":{"description":["Optional name to assign to the cluster. If not provided, a name is constructed from the server and port."]},"api_key":{"description":["Token used to authenticate with the API. Can also be specified via K8S_AUTH_API_KEY environment variable."]},"ca_cert":{"aliases":["ssl_ca_cert"],"description":["Path to a CA certificate used to authenticate with the API. Can also be specified via K8S_AUTH_SSL_CA_CERT environment variable."]},"context":{"description":["The name of a context found in the config file. Can also be specified via K8S_AUTH_CONTEXT environment variable."]},"password":{"description":["Provide a password for authenticating with the API. Can also be specified via K8S_AUTH_PASSWORD environment variable."]},"username":{"description":["Provide a username for authenticating with the API. Can also be specified via K8S_AUTH_USERNAME environment variable."]},"client_key":{"aliases":["key_file"],"description":["Path to a key file used to authenticate with the API. Can also be specified via K8S_AUTH_KEY_FILE environment variable."]},"kubeconfig":{"description":["Path to an existing Kubernetes config file. If not provided, and no other connection options are provided, the OpenShift client will attempt to load the default configuration file from I(~/.kube/config.json). Can also be specified via K8S_AUTH_KUBECONFIG environment variable."]},"namespaces":{"description":["List of namespaces. If not specified, will fetch all containers for all namespaces user is authorized to access."]},"client_cert":{"aliases":["cert_file"],"description":["Path to a certificate used to authenticate with the API. Can also be specified via K8S_AUTH_CERT_FILE environment variable."]},"description":["Optional list of cluster connection settings. If no connections are provided, the default I(~/.kube/config) and active context will be used, and objects will be returned for all namespaces the active user is authorized to access."],"validate_certs":{"type":"bool","aliases":["verify_ssl"],"description":["Whether or not to verify the API server's SSL certificates. Can also be specified via K8S_AUTH_VERIFY_SSL environment variable."]}}},"description":["Fetch containers, services and routes for one or more clusters","Groups by cluster name, namespace, namespace_services, namespace_pods, namespace_routes, and labels","Uses openshift.(yml|yaml) YAML configuration file to set parameter values."],"plugin_type":"inventory","requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"OpenShift inventory source"}},"role_meta":null,"description":"OpenShift inventory source","content_type":"inventory_plugin"},{"name":"k8s","scores":null,"metadata":{"documentation":{"name":"k8s","author":["Chris Houseknecht <@chouseknecht>","Fabian von Feilitzsch <@fabianvf>"],"options":{"plugin":{"choices":["k8s"],"required":true,"description":"token that ensures this is a source file for the 'k8s' plugin."},"connections":{"host":{"description":["Provide a URL for accessing the API. Can also be specified via K8S_AUTH_HOST environment variable."]},"name":{"description":["Optional name to assign to the cluster. If not provided, a name is constructed from the server and port."]},"api_key":{"description":["Token used to authenticate with the API. Can also be specified via K8S_AUTH_API_KEY environment variable."]},"ca_cert":{"aliases":["ssl_ca_cert"],"description":["Path to a CA certificate used to authenticate with the API. Can also be specified via K8S_AUTH_SSL_CA_CERT environment variable."]},"context":{"description":["The name of a context found in the config file. Can also be specified via K8S_AUTH_CONTEXT environment variable."]},"password":{"description":["Provide a password for authenticating with the API. Can also be specified via K8S_AUTH_PASSWORD environment variable."]},"username":{"description":["Provide a username for authenticating with the API. Can also be specified via K8S_AUTH_USERNAME environment variable."]},"client_key":{"aliases":["key_file"],"description":["Path to a key file used to authenticate with the API. Can also be specified via K8S_AUTH_KEY_FILE environment variable."]},"kubeconfig":{"description":["Path to an existing Kubernetes config file. If not provided, and no other connection options are provided, the OpenShift client will attempt to load the default configuration file from I(~/.kube/config.json). Can also be specified via K8S_AUTH_KUBECONFIG environment variable."]},"namespaces":{"description":["List of namespaces. If not specified, will fetch all containers for all namespaces user is authorized to access."]},"client_cert":{"aliases":["cert_file"],"description":["Path to a certificate used to authenticate with the API. Can also be specified via K8S_AUTH_CERT_FILE environment variable."]},"description":["Optional list of cluster connection settings. If no connections are provided, the default I(~/.kube/config) and active context will be used, and objects will be returned for all namespaces the active user is authorized to access."],"validate_certs":{"type":"bool","aliases":["verify_ssl"],"description":["Whether or not to verify the API server's SSL certificates. Can also be specified via K8S_AUTH_VERIFY_SSL environment variable."]}}},"description":["Fetch containers and services for one or more clusters","Groups by cluster name, namespace, namespace_services, namespace_pods, and labels","Uses k8s.(yml|yaml) YAML configuration file to set parameter values."],"plugin_type":"inventory","requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"Kubernetes (K8s) inventory source"}},"role_meta":null,"description":"Kubernetes (K8s) inventory source","content_type":"inventory_plugin"},{"name":"k8s","scores":null,"metadata":{"documentation":{"notes":["The OpenShift Python client wraps the K8s Python client, providing full access to all of the APIS and models available on both platforms. For API version details and additional information visit https://github.com/openshift/openshift-restclient-python"],"lookup":"k8s","options":{"src":{"description":["Provide a path to a file containing a valid YAML definition of an object dated. Mutually exclusive with I(resource_definition). NOTE: I(kind), I(api_version), I(resource_name), and I(namespace) will be overwritten by corresponding values found in the configuration read in from the I(src) file.","Reads from the local file system. To read from the Ansible controller's file system, use the file lookup plugin or template lookup plugin, combined with the from_yaml filter, and pass the result to I(resource_definition). See Examples below."]},"host":{"description":["Provide a URL for accessing the API. Can also be specified via K8S_AUTH_HOST environment variable."]},"kind":{"required":true,"description":["Use to specify an object model. If I(resource definition) is provided, the I(kind) from a I(resource_definition) will override this option."]},"api_key":{"description":["Token used to authenticate with the API. Can also be specified via K8S_AUTH_API_KEY environment variable."]},"ca_cert":{"aliases":["ssl_ca_cert"],"description":["Path to a CA certificate used to authenticate with the API. Can also be specified via K8S_AUTH_SSL_CA_CERT environment variable."]},"context":{"description":["The name of a context found in the config file. Can also be specified via K8S_AUTH_CONTEXT environment variable."]},"password":{"description":["Provide a password for authenticating with the API. Can also be specified via K8S_AUTH_PASSWORD environment variable."]},"username":{"description":["Provide a username for authenticating with the API. Can also be specified via K8S_AUTH_USERNAME environment variable."]},"namespace":{"description":["Limit the objects returned to a specific namespace. If I(resource definition) is provided, the I(metadata.namespace) value from the I(resource_definition) will override this option."]},"client_key":{"aliases":["key_file"],"description":["Path to a key file used to authenticate with the API. Can also be specified via K8S_AUTH_KEY_FILE environment variable."]},"kubeconfig":{"description":["Path to an existing Kubernetes config file. If not provided, and no other connection options are provided, the openshift client will attempt to load the default configuration file from I(~/.kube/config.json). Can also be specified via K8S_AUTH_KUBECONFIG environment variable."]},"api_version":{"default":"v1","description":["Use to specify the API version. If I(resource definition) is provided, the I(apiVersion) from the I(resource_definition) will override this option."]},"client_cert":{"aliases":["cert_file"],"description":["Path to a certificate used to authenticate with the API. Can also be specified via K8S_AUTH_CERT_FILE environment variable."]},"cluster_info":{"description":["Use to specify the type of cluster information you are attempting to retrieve. Will take priority over all the other options."]},"resource_name":{"description":["Fetch a specific object by name. If I(resource definition) is provided, the I(metadata.name) value from the I(resource_definition) will override this option."]},"field_selector":{"description":["Specific fields on which to query. Ignored when I(resource_name) is provided."]},"label_selector":{"description":["Additional labels to include in the query. Ignored when I(resource_name) is provided."]},"validate_certs":{"type":"bool","aliases":["verify_ssl"],"description":["Whether or not to verify the API server's SSL certificates. Can also be specified via K8S_AUTH_VERIFY_SSL environment variable."]},"resource_definition":{"description":["Provide a YAML configuration for an object. NOTE: I(kind), I(api_version), I(resource_name), and I(namespace) will be overwritten by corresponding values found in the provided I(resource_definition)."]}},"description":["Uses the OpenShift Python client to fetch a specific object by name, all matching objects within a namespace, or all matching objects for all namespaces, as well as information about the cluster.","Provides access the full range of K8s APIs.","Enables authentication via config file, certificates, password or token."],"requirements":["python >= 2.7","openshift >= 0.6","PyYAML >= 3.11"],"short_description":"Query the K8s API"}},"role_meta":null,"description":"Query the K8s API","content_type":"lookup_plugin"}],"readme_html":"<h1>Kubernetes Collection for Ansible</h1>\n<p><a href=\"https://github.com/ansible-collections/community.kubernetes/actions\"><img alt=\"CI\" src=\"https://github.com/ansible-collections/community.kubernetes/workflows/CI/badge.svg?event=push\"></a> <a href=\"https://codecov.io/gh/ansible-collections/community.kubernetes\"><img alt=\"Codecov\" src=\"https://img.shields.io/codecov/c/github/ansible-collections/community.kubernetes\"></a></p>\n<p>This repo hosts the <code>community.kubernetes</code> Ansible Collection.</p>\n<p>The collection includes a variety of Ansible content to help automate the management of applications in Kubernetes and OpenShift clusters, as well as the provisioning and maintenance of clusters themselves.</p>\n<h2>Included content</h2>\n<p>Click on the name of a plugin or module to view that content's documentation:</p>\n<ul>\n<li><strong>Connection Plugins</strong>:<ul>\n<li><a href=\"https://docs.ansible.com/ansible/latest/plugins/connection/kubectl.html\">kubectl</a></li>\n</ul>\n</li>\n<li><strong>Filter Plugins</strong>:<ul>\n<li><a href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html#kubernetes-filters\">k8s_config_resource_name</a></li>\n</ul>\n</li>\n<li><strong>Inventory Source</strong>:<ul>\n<li><a href=\"https://docs.ansible.com/ansible/latest/plugins/inventory/k8s.html\">k8s</a></li>\n<li><a href=\"https://docs.ansible.com/ansible/latest/plugins/inventory/openshift.html\">openshift</a></li>\n</ul>\n</li>\n<li><strong>Lookup Plugins</strong>:<ul>\n<li><a href=\"https://docs.ansible.com/ansible/latest/plugins/lookup/k8s.html\">k8s</a></li>\n</ul>\n</li>\n<li><strong>Modules</strong>:<ul>\n<li><a href=\"https://docs.ansible.com/ansible/latest/modules/k8s_module.html\">k8s</a></li>\n<li><a href=\"https://docs.ansible.com/ansible/latest/modules/k8s_auth_module.html\">k8s_auth</a></li>\n<li><a href=\"https://github.com/ansible-collections/community.kubernetes/blob/master/plugins/modules/k8s_exec.py\">k8s_exec</a></li>\n<li><a href=\"https://github.com/ansible-collections/community.kubernetes/blob/master/plugins/modules/k8s_log.py\">k8s_log</a></li>\n<li><a href=\"https://docs.ansible.com/ansible/latest/modules/k8s_info_module.html\">k8s_info</a></li>\n<li><a href=\"https://docs.ansible.com/ansible/latest/modules/k8s_scale_module.html\">k8s_scale</a></li>\n<li><a href=\"https://docs.ansible.com/ansible/latest/modules/k8s_service_module.html\">k8s_service</a></li>\n<li><a href=\"https://github.com/ansible-collections/community.kubernetes/blob/master/plugins/modules/helm.py\">helm</a></li>\n<li><a href=\"https://github.com/ansible-collections/community.kubernetes/blob/master/plugins/modules/helm_info.py\">helm_info</a></li>\n<li><a href=\"https://github.com/ansible-collections/community.kubernetes/blob/master/plugins/modules/helm_repository.py\">helm_repository</a></li>\n</ul>\n</li>\n</ul>\n<h2>Installation and Usage</h2>\n<h3>Installing the Collection from Ansible Galaxy</h3>\n<p>Before using the Kuberentes collection, you need to install it with the Ansible Galaxy CLI:</p>\n<pre><code>ansible-galaxy collection install community.kubernetes\n</code></pre>\n<p>You can also include it in a <code>requirements.yml</code> file and install it via <code>ansible-galaxy collection install -r requirements.yml</code>, using the format:</p>\n<pre><code>---\ncollections:\n  - name: community.kubernetes\n    version: 0.11.0\n</code></pre>\n\n<h3>Installing the OpenShift Python Library</h3>\n<p>Content in this collection requires the <a href=\"https://pypi.org/project/openshift/\">OpenShift Python client</a> to interact with Kubernetes' APIs. You can install it with:</p>\n<pre><code>pip3 install openshift\n</code></pre>\n<h3>Using modules from the Kubernetes Collection in your playbooks</h3>\n<p>You can either call modules by their Fully Qualified Collection Namespace (FQCN), like <code>community.kubernetes.k8s_info</code>, or you can call modules by their short name if you list the <code>community.kubernetes</code> collection in the playbook's <code>collections</code>, like so:</p>\n<pre><code>---\n- hosts: localhost\n  gather_facts: false\n  connection: local\n\n  collections:\n    - community.kubernetes\n\n  tasks:\n    - name: Ensure the myapp Namespace exists.\n      k8s:\n        api_version: v1\n        kind: Namespace\n        name: myapp\n        state: present\n\n    - name: Ensure the myapp Service exists in the myapp Namespace.\n      k8s:\n        state: present\n        definition:\n          apiVersion: v1\n          kind: Service\n          metadata:\n            name: myapp\n            namespace: myapp\n          spec:\n            type: LoadBalancer\n            ports:\n            - port: 8080\n              targetPort: 8080\n            selector:\n              app: myapp\n\n    - name: Get a list of all Services in the myapp namespace.\n      k8s_info:\n        kind: Service\n        namespace: myapp\n      register: myapp_services\n\n    - name: Display number of Services in the myapp namespace.\n      debug:\n        var: myapp_services.resources | count\n\n</code></pre>\n\n<p>For documentation on how to use individual modules and other content included in this collection, please see the links in the 'Included content' section earlier in this README.</p>\n<h2>Testing and Development</h2>\n<p>If you want to develop new content for this collection or improve what's already here, the easiest way to work on the collection is to clone it into one of the configured <a href=\"https://docs.ansible.com/ansible/latest/reference_appendices/config.html#collections-paths\"><code>COLLECTIONS_PATHS</code></a>, and work on it there.</p>\n<h3>Testing with <code>ansible-test</code></h3>\n<p>The <code>tests</code> directory contains configuration for running sanity and integration tests using <a href=\"https://docs.ansible.com/ansible/latest/dev_guide/testing_integration.html\"><code>ansible-test</code></a>.</p>\n<p>You can run the collection's test suites with the commands:</p>\n<pre><code>ansible-test sanity --docker -v --color\nansible-test integration --docker -v --color\n</code></pre>\n<h3>Testing with <code>molecule</code></h3>\n<p>There are also integration tests in the <code>molecule</code> directory which are meant to be run against a local Kubernetes cluster, e.g. using <a href=\"https://kind.sigs.k8s.io\">KinD</a> or <a href=\"https://minikube.sigs.k8s.io\">Minikube</a>. To run the tests, set up a local cluster, then run Molecule:</p>\n<pre><code>kind create cluster\nmolecule test\n</code></pre>\n<h2>Publishing New Versions</h2>\n<p>The current process for publishing new versions of the Kubernetes Collection is manual, and requires a user who has access to the <code>community.kubernetes</code> namespace on Ansible Galaxy to publish the build artifact. See <a href=\"https://github.com/ansible-collections/community.kubernetes/issues/43\">Issue #43</a> for progress in automating this process.</p>\n<ol>\n<li>Ensure you're running Ansible from devel, so the <a href=\"https://github.com/ansible/ansible/issues/67130\"><code>build_ignore</code> key</a> in <code>galaxy.yml</code> is used.</li>\n<li>Run <code>git clean -x -d -f</code> in this repository's directory to clean out any extra files which should not be included.</li>\n<li>Ensure <code>CHANGELOG.md</code> contains all the latest changes.</li>\n<li>Update <code>galaxy.yml</code> and this README's <code>requirements.yml</code> example with the new <code>version</code> for the collection.</li>\n<li>Tag the version in Git and push to GitHub.</li>\n<li>\n<p>Run the following commands to build and release the new version on Galaxy:</p>\n<p><code>ansible-galaxy collection build\n ansible-galaxy collection publish ./community-kubernetes-$VERSION_HERE.tar.gz</code></p>\n</li>\n</ol>\n<p>After the version is published, verify it exists on the <a href=\"https://galaxy.ansible.com/community/kubernetes\">Kubernetes Collection Galaxy page</a>.</p>\n<h2>More Information</h2>\n<p>For more information about Ansible's Kubernetes integration, join the <code>#ansible-community</code> channel on Freenode IRC, and browse the resources in the <a href=\"https://github.com/ansible/community/wiki/Kubernetes\">Kubernetes Working Group</a> Community wiki page.</p>\n<h2>License</h2>\n<p>GNU General Public License v3.0 or later</p>\n<p>See LICENCE to see the full text.</p>"},"community_survey_count":0,"all_versions":[{"pk":1868,"version":"0.11.0","quality_score":null,"created":"2020-05-04T13:09:27.461362-04:00","modified":"2020-05-04T13:09:27.461385-04:00","download_url":"/download/community-kubernetes-0.11.0.tar.gz"},{"pk":1351,"version":"0.10.0","quality_score":null,"created":"2020-03-23T16:35:59.815423-04:00","modified":"2020-03-23T16:35:59.815458-04:00","download_url":"/download/community-kubernetes-0.10.0.tar.gz"},{"pk":889,"version":"0.9.0","quality_score":null,"created":"2020-02-05T10:08:00.785891-05:00","modified":"2020-02-05T10:08:00.785911-05:00","download_url":"/download/community-kubernetes-0.9.0.tar.gz"}]}
